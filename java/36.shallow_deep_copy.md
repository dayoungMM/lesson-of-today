# Deep Copy와 Shallow Copy

## Primitive Type vs Reference Type

- 원시 타입 (primitive type): Stack 메모리에 데이터를 저장
- 참조 차입 (reference type): Heap 영역에 데이터는 별도로 관리되고, Stack 메모리에 주소가 저장됨

## 깊은 복사(Deep Copy)란?

- 데이터 자체를 통째로 복사한다
- 복사된 두 객체는 완전히 독립적인 메모리를 차지
- 즉, Heap Memory에도 인스턴스가 새로 생성됨
- primitive type 객체들은 깊은 복사를 하게 됨
- 복사한 객체를 수정해도 원본 객체가 수정되지 않는다
- 하지만 인스턴스를 새로 생성하는 것이기 때문에 메모리를 많이 쓰고, 복사가 느리다

## 얕은 복사(Shallow Copy)란?

- 인스턴스를 새로 생성하지 않음
- 데이터 자체를 복사하는게 아니라 주소값만 복사하고, 같은 인스턴스를 가리킴
- 새로운 인스턴스를 생성하지 않기 때문에 깊은 복사보다 빠르다
- 하지만 복사한 객체를 수정하면 원본 객체도 수정된다.

## 직렬화와 역직렬화와의 관계

- 직렬화(Serialization)란?
    - 데이터 구조나 object 상태를 동일하거나 다른 컴퓨터 환경에 저장하고 나중에 재구성할 수 있는 포맷(예를들어 byte)으로 변환하는 과정
- 역직렬화(Deserialization)란?
    - 직렬화와 반대로 일련의 byte로부터 데이터 구조를 추출하는 일
- 무슨 관계?
    - 직렬화/ 역직렬화 과정에서는 객체는 항상 새로운 객체를 생성한다. 이 때 primitive type이든 reference type이든 모두 동일하게 깊은 복사를 수행한다