# 다 쓴 객체 참조를 해제하라
## 왜 해야할까?

- 메모리 누수 방지하기 위해
    - 메모리 할당 해제는 GC가 하는데, GC는 참조를 가지고 있는 경우 메모리 해제 안함
    - 프로그램에서 쓰이지는 않는데, 참조를 여전히 가지면 메모리 누수 발생 가능
- stack의 경우 pop 한 객체를 GC가 수거하지 않음(참조 가지고 있어서)



## 객체 참조 해제 방법

- 참조를 다 썼을 때 null 처리(참조 해제)
- 참조를 담은 변수를 유효범위 (scope) 밖으로 밀어내기

## 장점

- null 처리한 참조 객체를 실수로 사용하려고 하면 NulllPorinterException 발생

## 단점

- 너무 과하게 쓰면 프로그램을 필요 잇아으로 지저분하게 만듦.

## 메모리 누수 주의 대상

- stack 클래스는 GC가 아닌 stack이 메모리 직접 관리하기 때문에 메모리 누수 주의
- 캐시 → 객체 참조를 캐시에 넣고 까맣게 잊은 채 다 쓰고 나서도 놔두는 경우 있으니 주의
    - 엔트리가 살아있는 동안에만 캐시 사용 → WeakHashMap 사용해 캐시 만들자
    - Scheduled ThreadPoolExecutor 같은 엔트리 청소도구 사용
- Listener, Callback → 등록하고 해지 안하면 메모리 누수
    - callback을 weak reference로 저장 → GC가 수거